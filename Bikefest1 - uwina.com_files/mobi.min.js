!function(){var s={},g=null,o=!0,a=!1;try{"undefined"!=typeof AudioContext?g=new AudioContext:"undefined"!=typeof webkitAudioContext?g=new webkitAudioContext:o=!1}catch(t){o=!1}if(!o)if("undefined"!=typeof Audio)try{new Audio}catch(t){a=!0}else a=!0;if(o){var r=void 0===g.createGain?g.createGainNode():g.createGain();r.gain.value=1,r.connect(g.destination)}var h=function(t){this._volume=1,this._muted=!1,this.usingWebAudio=o,this.ctx=g,this.noAudio=a,this._howls=[],this._codecs=t,this.iOSAutoEnable=!0};h.prototype={volume:function(t){var e=this;if(0<=(t=parseFloat(t))&&t<=1){for(var i in e._volume=t,o&&(r.gain.value=t),e._howls)if(e._howls.hasOwnProperty(i)&&!1===e._howls[i]._webAudio)for(var n=0;n<e._howls[i]._audioNode.length;n++)e._howls[i]._audioNode[n].volume=e._howls[i]._volume*e._volume;return e}return o?r.gain.value:e._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(t){var e=this;for(var i in e._muted=t,o&&(r.gain.value=t?0:e._volume),e._howls)if(e._howls.hasOwnProperty(i)&&!1===e._howls[i]._webAudio)for(var n=0;n<e._howls[i]._audioNode.length;n++)e._howls[i]._audioNode[n].muted=t},codecs:function(t){return this._codecs[t]},_enableiOSAudio:function(){var i=this;if(!g||!i._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){i._iOSEnabled=!1;var n=function(){var t=g.createBuffer(1,1,22050),e=g.createBufferSource();e.buffer=t,e.connect(g.destination),void 0===e.start?e.noteOn(0):e.start(0),setTimeout(function(){(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)&&(i._iOSEnabled=!0,i.iOSAutoEnable=!1,window.removeEventListener("touchstart",n,!1))},0)};return window.addEventListener("touchstart",n,!1),i}}};var t=null,l={};a||(t=new Audio,l={mp3:!!t.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var _=new h(l),e=function(t){var e=this;e._autoplay=t.autoplay||!1,e._buffer=t.buffer||!1,e._duration=t.duration||0,e._format=t.format||null,e._loop=t.loop||!1,e._loaded=!1,e._sprite=t.sprite||{},e._src=t.src||"",e._pos3d=t.pos3d||[0,0,-.5],e._volume=void 0!==t.volume?t.volume:1,e._urls=t.urls||[],e._rate=t.rate||1,e._model=t.model||null,e._onload=[t.onload||function(){}],e._onloaderror=[t.onloaderror||function(){}],e._onend=[t.onend||function(){}],e._onpause=[t.onpause||function(){}],e._onplay=[t.onplay||function(){}],e._onendTimer=[],e._webAudio=o&&!e._buffer,e._audioNode=[],e._webAudio&&e._setupAudioNode(),void 0!==g&&g&&_.iOSAutoEnable&&_._enableiOSAudio(),_._howls.push(e),e.load()};if(e.prototype={load:function(){var t=this,e=null;if(a)t.on("loaderror");else{for(var i=0;i<t._urls.length;i++){var n,o;if(t._format)n=t._format;else{if(o=t._urls[i],(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),!n)return void t.on("loaderror");n=n[1].toLowerCase()}if(l[n]){e=t._urls[i];break}}if(e){if(t._src=e,t._webAudio)u(t,e);else{var r=new Audio;r.addEventListener("error",function(){r.error&&4===r.error.code&&(h.noAudio=!0),t.on("loaderror",{type:r.error?r.error.code:0})},!1),t._audioNode.push(r),r.src=e,r._pos=0,r.preload="auto",r.volume=_._muted?0:t._volume*_.volume();var s=function(){t._duration=Math.ceil(10*r.duration)/10,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),r.removeEventListener("canplaythrough",s,!1)};r.addEventListener("canplaythrough",s,!1),r.load()}return t}t.on("loaderror")}},urls:function(t){var e=this;return t?(e.stop(),e._urls="string"==typeof t?[t]:t,e._loaded=!1,e.load(),e):e._urls},play:function(f,m){var v=this;return"function"==typeof f&&(m=f),f&&"function"!=typeof f||(f="_default"),v._loaded?v._sprite[f]?v._inactiveNode(function(t){t._sprite=f;var e=0<t._pos?t._pos:v._sprite[f][0]/1e3,i=0;v._webAudio?(i=v._sprite[f][1]/1e3-t._pos,0<t._pos&&(e=v._sprite[f][0]/1e3+e)):i=v._sprite[f][1]/1e3-(e-v._sprite[f][0]/1e3);var n,o,r,s,a,h,l,u=!(!v._loop&&!v._sprite[f][2]),c="string"==typeof m?m:Math.round(Date.now()*Math.random())+"";if(l={id:c,sprite:f,loop:u},n=setTimeout(function(){!v._webAudio&&u&&v.stop(l.id).play(f,l.id),v._webAudio&&!u&&(v._nodeById(l.id).paused=!0,v._nodeById(l.id)._pos=0,v._clearEndTimer(l.id)),v._webAudio||u||v.stop(l.id),v.on("end",c)},1e3*i),v._onendTimer.push({timer:n,id:l.id}),v._webAudio){var p=v._sprite[f][0]/1e3,d=v._sprite[f][1]/1e3;t.id=c,t.paused=!1,y(v,[u,p,d],c),v._playStart=g.currentTime,t.gain.value=v._volume,void 0===t.bufferSource.start?t.bufferSource.noteGrainOn(0,e,i):t.bufferSource.start(0,e,i)}else{if(4!==t.readyState&&(t.readyState||!navigator.isCocoonJS))return v._clearEndTimer(c),o=v,r=f,s=m,h=function(){o.play(r,s),a.removeEventListener("canplaythrough",h,!1)},(a=t).addEventListener("canplaythrough",h,!1),v;t.readyState=4,t.id=c,t.currentTime=e,t.muted=_._muted||t.muted,t.volume=v._volume*_.volume(),setTimeout(function(){t.play()},0)}return v.on("play"),"function"==typeof m&&m(c),v}):"function"==typeof m&&m():v.on("load",function(){v.play(f,m)}),v},pause:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.pause(t)}),e;e._clearEndTimer(t);var i=t?e._nodeById(t):e._activeNode();if(i)if(i._pos=e.pos(null,t),e._webAudio){if(!i.bufferSource||i.paused)return e;i.paused=!0,void 0===i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else i.pause();return e.on("pause"),e},stop:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.stop(t)}),e;e._clearEndTimer(t);var i=t?e._nodeById(t):e._activeNode();if(i)if(i._pos=0,e._webAudio){if(!i.bufferSource||i.paused)return e;i.paused=!0,void 0===i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else isNaN(i.duration)||(i.pause(),i.currentTime=0);return e},mute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.mute(t)}),e;var i=t?e._nodeById(t):e._activeNode();return i&&(e._webAudio?i.gain.value=0:i.muted=!0),e},unmute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.unmute(t)}),e;var i=t?e._nodeById(t):e._activeNode();return i&&(e._webAudio?i.gain.value=e._volume:i.muted=!1),e},volume:function(t,e){var i=this;if(0<=(t=parseFloat(t))&&t<=1){if(i._volume=t,!i._loaded)return i.on("play",function(){i.volume(t,e)}),i;var n=e?i._nodeById(e):i._activeNode();return n&&(i._webAudio?n.gain.value=t:n.volume=t*_.volume()),i}return i._volume},loop:function(t){return"boolean"==typeof t?(this._loop=t,this):this._loop},sprite:function(t){return"object"==typeof t?(this._sprite=t,this):this._sprite},pos:function(t,e){var i=this;if(!i._loaded)return i.on("load",function(){i.pos(t)}),"number"==typeof t?i:i._pos||0;t=parseFloat(t);var n=e?i._nodeById(e):i._activeNode();if(n)return 0<=t?(i.pause(e),n._pos=t,i.play(n._sprite,e),i):i._webAudio?n._pos+(g.currentTime-i._playStart):n.currentTime;if(0<=t)return i;for(var o=0;o<i._audioNode.length;o++)if(i._audioNode[o].paused&&4===i._audioNode[o].readyState)return i._webAudio?i._audioNode[o]._pos:i._audioNode[o].currentTime},pos3d:function(t,e,i,n){var o=this;if(e=void 0!==e&&e?e:0,i=void 0!==i&&i?i:-.5,!o._loaded)return o.on("play",function(){o.pos3d(t,e,i,n)}),o;if(!(0<=t||t<0))return o._pos3d;if(o._webAudio){var r=n?o._nodeById(n):o._activeNode();r&&(o._pos3d=[t,e,i],r.panner.setPosition(t,e,i),r.panner.panningModel=o._model||"HRTF")}return o},fade:function(t,n,e,o,r){var s=this,i=Math.abs(t-n),a=n<t?"down":"up",h=i/.01,l=e/h;if(!s._loaded)return s.on("load",function(){s.fade(t,n,e,o,r)}),s;s.volume(t,r);for(var u=1;u<=h;u++)!function(){var t=s._volume+("up"===a?.01:-.01)*u,e=Math.round(1e3*t)/1e3,i=n;setTimeout(function(){s.volume(e,r),e===i&&o&&o()},l*u)}()},fadeIn:function(t,e,i){return this.volume(0).play().fade(0,t,e,i)},fadeOut:function(t,e,i,n){var o=this;return o.fade(o._volume,t,e,function(){i&&i(),o.pause(n),o.on("end")},n)},_nodeById:function(t){for(var e=this._audioNode[0],i=0;i<this._audioNode.length;i++)if(this._audioNode[i].id===t){e=this._audioNode[i];break}return e},_activeNode:function(){for(var t=null,e=0;e<this._audioNode.length;e++)if(!this._audioNode[e].paused){t=this._audioNode[e];break}return this._drainPool(),t},_inactiveNode:function(t){for(var e=this,i=null,n=0;n<e._audioNode.length;n++)if(e._audioNode[n].paused&&4===e._audioNode[n].readyState){t(e._audioNode[n]),i=!0;break}var o;if(e._drainPool(),!i)if(e._webAudio)o=e._setupAudioNode(),t(o);else{e.load(),o=e._audioNode[e._audioNode.length-1];var r=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",s=function(){o.removeEventListener(r,s,!1),t(o)};o.addEventListener(r,s,!1)}},_drainPool:function(){var t,e=this,i=0;for(t=0;t<e._audioNode.length;t++)e._audioNode[t].paused&&i++;for(t=e._audioNode.length-1;0<=t&&!(i<=5);t--)e._audioNode[t].paused&&(e._webAudio&&e._audioNode[t].disconnect(0),i--,e._audioNode.splice(t,1))},_clearEndTimer:function(t){for(var e=0,i=0;i<this._onendTimer.length;i++)if(this._onendTimer[i].id===t){e=i;break}var n=this._onendTimer[e];n&&(clearTimeout(n.timer),this._onendTimer.splice(e,1))},_setupAudioNode:function(){var t=this,e=t._audioNode,i=t._audioNode.length;return e[i]=void 0===g.createGain?g.createGainNode():g.createGain(),e[i].gain.value=t._volume,e[i].paused=!0,e[i]._pos=0,e[i].readyState=4,e[i].connect(r),e[i].panner=g.createPanner(),e[i].panner.panningModel=t._model||"equalpower",e[i].panner.setPosition(t._pos3d[0],t._pos3d[1],t._pos3d[2]),e[i].panner.connect(e[i]),e[i]},on:function(t,e){var i=this["_on"+t];if("function"==typeof e)i.push(e);else for(var n=0;n<i.length;n++)e?i[n].call(this,e):i[n].call(this);return this},off:function(t,e){var i=this["_on"+t],n=e?""+e:null;if(n){for(var o=0;o<i.length;o++)if(n===""+i[o]){i.splice(o,1);break}}else this["_on"+t]=[];return this},unload:function(){for(var t=this,e=t._audioNode,i=0;i<t._audioNode.length;i++)e[i].paused||(t.stop(e[i].id),t.on("end",e[i].id)),t._webAudio?e[i].disconnect(0):e[i].src="";for(i=0;i<t._onendTimer.length;i++)clearTimeout(t._onendTimer[i].timer);var n=_._howls.indexOf(t);null!==n&&0<=n&&_._howls.splice(n,1),delete s[t._src],t=null}},o)var u=function(t,e){if(e in s)return t._duration=s[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);c(n.buffer,t,e)}else{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){c(r.response,t,e)},r.onerror=function(){t._webAudio&&(t._buffer=!0,t._webAudio=!1,t._audioNode=[],delete t._gainNode,delete s[e],t.load())};try{r.send()}catch(t){r.onerror()}}},c=function(t,e,i){g.decodeAudioData(t,function(t){t&&(s[i]=t,p(e,t))},function(){e.on("loaderror")})},p=function(t,e){t._duration=e?e.duration:t._duration,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play()},y=function(t,e,i){var n=t._nodeById(i);n.bufferSource=g.createBufferSource(),n.bufferSource.buffer=s[t._src],n.bufferSource.connect(n.panner),n.bufferSource.loop=e[0],e[0]&&(n.bufferSource.loopStart=e[1],n.bufferSource.loopEnd=e[1]+e[2]),n.bufferSource.playbackRate.value=t._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:_,Howl:e}}),"undefined"!=typeof exports&&(exports.Howler=_,exports.Howl=e),"undefined"!=typeof window&&(window.Howler=_,window.Howl=e)}(),function(n,h,t,w){"use strict";function a(t,e,i){return setTimeout(l(t,i),e)}function i(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var n,o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==w)for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=Object.keys(e),o=0,r=n.length;o<r;o++)(!i||i&&t[n[o]]===w)&&(t[n[o]]=e[n[o]]);return t}function s(t,e){return r(t,e,!0)}function e(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&r(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==W?t.apply(e&&e[0]||w,e):t}function c(t,e){return t===w?e:t}function p(e,t,i){o(m(t),function(t){e.addEventListener(t,i,!1)})}function d(e,t,i){o(m(t),function(t){e.removeEventListener(t,i,!1)})}function f(t,e){return-1<t.indexOf(e)}function m(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(i&&t[n][i]==e||!i&&t[n]===e)return n;return-1}function g(t){return Array.prototype.slice.call(t,0)}function _(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0,s=q.length;r<s;r++)if((n=(i=q[r])?i+o:e)in t)return n;return w}function y(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&i.handler(t)},this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(n,this.evWin,this.domHandler)}function b(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&rt&&n-o==0,s=e&(st|at)&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=T(e)),1<o&&!i.firstMultiple?i.firstMultiple=T(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=S(n);e.timeStamp=Z(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=x(a,h),e.distance=k(a,h),d=i,f=e,m=f.center,v=d.offsetDelta||{},g=d.prevDelta||{},_=d.prevInput||{},(f.eventType===rt||_.eventType===st)&&(g=d.prevDelta={x:_.deltaX||0,y:_.deltaY||0},v=d.offsetDelta={x:m.x,y:m.y}),f.deltaX=g.x+(m.x-v.x),f.deltaY=g.y+(m.y-v.y),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=s?(c=s.pointers,p=n,k(p[0],p[1],gt)/k(c[0],c[1],gt)):1,e.rotation=s?(l=s.pointers,u=n,x(u[1],u[0],gt)-x(l[1],l[0],gt)):0,function(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=at&&(ot<a||s.velocity===w)){var h=s.deltaX-e.deltaX,l=s.deltaY-e.deltaY,u={x:h/(c=a)||0,y:l/c||0};n=u.x,o=u.y,i=V(u.x)>V(u.y)?u.x:u.y,r=P(h,l),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;var c;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}(i,e);var l,u;var c,p;var d,f,m,v,g,_;var y=t.element;(function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1})(e.srcEvent.target,y)&&(y=e.srcEvent.target),e.target=y}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function T(t){for(var e=[],i=0;i<t.pointers.length;i++)e[i]={clientX:Q(t.pointers[i].clientX),clientY:Q(t.pointers[i].clientY)};return{timeStamp:Z(),pointers:e,center:S(e),deltaX:t.deltaX,deltaY:t.deltaY}}function S(t){var e=t.length;if(1===e)return{x:Q(t[0].clientX),y:Q(t[0].clientY)};for(var i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return{x:Q(i/e),y:Q(n/e)}}function P(t,e){return t===e?ht:V(t)>=V(e)?0<t?lt:ut:0<e?ct:pt}function k(t,e,i){i||(i=vt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function x(t,e,i){i||(i=vt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function A(){this.evEl=yt,this.evWin=wt,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function C(){this.evEl=St,this.evWin=Pt,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function E(){this.evTarget=xt,this.targetIds={},y.apply(this,arguments)}function O(t,e){var i=g(t.touches),n=this.targetIds;if(e&(2|rt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=g(t.targetTouches),a=g(t.changedTouches),h=[];if(e===rt)for(o=0,r=s.length;o<r;o++)n[s[o].identifier]=!0;for(o=0,r=a.length;o<r;o++)n[a[o].identifier]&&h.push(a[o]),e&(st|at)&&delete n[a[o].identifier];return h.length?[function(t,i,e){for(var n=[],o=[],r=0,s=t.length;r<s;r++){var a=i?t[r][i]:t[r];v(o,a)<0&&n.push(t[r]),o[r]=a}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}(s.concat(h),"identifier",!0),h]:void 0}function I(){y.apply(this,arguments);var t=l(this.handler,this);this.touch=new E(this.manager,t),this.mouse=new A(this.manager,t)}function R(t,e){this.manager=t,this.set(e)}function D(t){this.id=J++,this.manager=null,this.options=s(t||{},this.defaults),this.options.enable=c(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function L(t){return t==pt?"down":t==ct?"up":t==lt?"left":t==ut?"right":""}function N(t,e){var i=e.manager;return i?i.get(t):t}function M(){D.apply(this,arguments)}function F(){M.apply(this,arguments),this.pX=null,this.pY=null}function $(){M.apply(this,arguments)}function z(){D.apply(this,arguments),this._timer=null,this._input=null}function B(){M.apply(this,arguments)}function j(){M.apply(this,arguments)}function H(){D.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function U(t,e){return(e=e||{}).recognizers=c(e.recognizers,U.defaults.preset),new X(t,e)}function X(t,e){e=e||{},this.options=s(e,U.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new(tt?C:et?E:K?I:A)(this,b),this.touchAction=new R(this,this.options.touchAction),Y(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[2])},this)}function Y(t,i){var n=t.element;o(t.options.cssProps,function(t,e){n.style[_(n.style,e)]=i?t:""})}var q=["","webkit","moz","MS","ms","o"],G=h.createElement("div"),W="function",Q=Math.round,V=Math.abs,Z=Date.now,J=1,K="ontouchstart"in n,tt=_(n,"PointerEvent")!==w,et=K&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),it="touch",nt="mouse",ot=25,rt=1,st=4,at=8,ht=1,lt=2,ut=4,ct=8,pt=16,dt=lt|ut,ft=ct|pt,mt=dt|ft,vt=["x","y"],gt=["clientX","clientY"];y.prototype={handler:function(){},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(n,this.evWin,this.domHandler)}};var _t={mousedown:rt,mousemove:2,mouseup:st},yt="mousedown",wt="mousemove mouseup";e(A,y,{handler:function(t){var e=_t[t.type];e&rt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=st),this.pressed&&this.allow&&(e&st&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:nt,srcEvent:t}))}});var bt={pointerdown:rt,pointermove:2,pointerup:st,pointercancel:at,pointerout:at},Tt={2:it,3:"pen",4:nt,5:"kinect"},St="pointerdown",Pt="pointermove pointerup pointercancel";n.MSPointerEvent&&(St="MSPointerDown",Pt="MSPointerMove MSPointerUp MSPointerCancel"),e(C,y,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=bt[n],r=Tt[t.pointerType]||t.pointerType,s=r==it;o&rt&&(0===t.button||s)?e.push(t):o&(st|at)&&(i=!0);var a=v(e,t.pointerId,"pointerId");a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var kt={touchstart:rt,touchmove:2,touchend:st,touchcancel:at},xt="touchstart touchmove touchend touchcancel";e(E,y,{handler:function(t){var e=kt[t.type],i=O.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:it,srcEvent:t})}}),e(I,y,{handler:function(t,e,i){var n=i.pointerType==it,o=i.pointerType==nt;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(st|at)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var At=_(G.style,"touchAction"),Ct=At!==w,Et="compute",Ot="manipulation",It="none",Rt="pan-x",Dt="pan-y";R.prototype={set:function(t){t==Et&&(t=this.compute()),Ct&&(this.manager.element.style[At]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(f(t,It))return It;var e=f(t,Rt),i=f(t,Dt);return e&&i?Rt+" "+Dt:e||i?e?Rt:Dt:f(t,Ot)?Ot:"auto"}(e.join(" "))},preventDefaults:function(t){if(!Ct){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=f(n,It),r=f(n,Dt),s=f(n,Rt);return o||r&&s||r&&i&dt||s&&i&ft?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Nt=2,Mt=4,Ft=8,$t=Ft,zt=16;D.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=N(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=N(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===v(e,t=N(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=N(t,this);var e=v(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(i){function t(t){var e;n.manager.emit(n.options.event+(t?(e=o)&zt?"cancel":e&Ft?"end":e&Mt?"move":e&Nt?"start":"":""),i)}var n=this,o=this.state;o<Ft&&t(!0),t(),Ft<=o&&t(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;t++)if(!(this.requireFail[t].state&(32|Lt)))return!1;return!0},recognize:function(t){var e=r({},t);return u(this.options.enable,[this,e])?(this.state&($t|zt|32)&&(this.state=Lt),this.state=this.process(e),void(this.state&(Nt|Mt|Ft|zt)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},e(M,D,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Nt|Mt),o=this.attrTest(t);return n&&(i&at||!o)?e|zt:n||o?i&st?e|Ft:e&Nt?e|Mt:Nt:32}}),e(F,M,{defaults:{event:"pan",threshold:10,pointers:1,direction:mt},getTouchAction:function(){var t=this.options.direction;if(t===mt)return[It];var e=[];return t&dt&&e.push(Dt),t&ft&&e.push(Rt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(n=e.direction&dt?(o=0===r?ht:r<0?lt:ut,i=r!=this.pX,Math.abs(t.deltaX)):(o=0===s?ht:s<0?ct:pt,i=s!=this.pY,Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return M.prototype.attrTest.call(this,t)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=L(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),e($,M,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Nt)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),e(z,D,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(st|at)&&!o)this.reset();else if(t.eventType&rt)this.reset(),this._timer=a(function(){this.state=$t,this.tryEmit()},e.time,this);else if(t.eventType&st)return $t;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===$t&&(t&&t.eventType&st?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Z(),this.manager.emit(this.options.event,this._input)))}}),e(B,M,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Nt)}}),e(j,M,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:dt|ft,pointers:1},getTouchAction:function(){return F.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(dt|ft)?e=t.velocity:i&dt?e=t.velocityX:i&ft&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&V(e)>this.options.velocity&&t.eventType&st},emit:function(t){var e=L(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),e(H,D,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&rt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=st)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||k(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=$t,this.tryEmit()},e.interval,this),Nt):$t}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),U.VERSION="2.0.2",U.defaults={domEvents:!1,touchAction:Et,inputTarget:null,enable:!0,preset:[[B,{enable:!1}],[$,{enable:!1},["rotate"]],[j,{direction:dt}],[F,{direction:dt},["swipe"]],[H],[H,{event:"doubletap",taps:2},["tap"]],[z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};X.prototype={set:function(t){return r(this.options,t),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&$t)&&(o=e.curRecognizer=null);for(var r=0,s=n.length;r<s;r++)i=n[r],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Nt|Mt|Ft)&&(o=e.curRecognizer=i)}},get:function(t){if(t instanceof D)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(v(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return o(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return o(m(t),function(t){e?i[t].splice(v(i[t],e),1):delete i[t]}),this},emit:function(t,e){var i,n,o;this.options.domEvents&&(i=t,n=e,(o=h.createEvent("Event")).initEvent(i,!0,!0),(o.gesture=n).target.dispatchEvent(o));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0,a=r.length;s<a;s++)r[s](e)}},destroy:function(){this.element&&Y(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(U,{INPUT_START:rt,INPUT_MOVE:2,INPUT_END:st,INPUT_CANCEL:at,STATE_POSSIBLE:Lt,STATE_BEGAN:Nt,STATE_CHANGED:Mt,STATE_ENDED:Ft,STATE_RECOGNIZED:$t,STATE_CANCELLED:zt,STATE_FAILED:32,DIRECTION_NONE:ht,DIRECTION_LEFT:lt,DIRECTION_RIGHT:ut,DIRECTION_UP:ct,DIRECTION_DOWN:pt,DIRECTION_HORIZONTAL:dt,DIRECTION_VERTICAL:ft,DIRECTION_ALL:mt,Manager:X,Input:y,TouchAction:R,Recognizer:D,AttrRecognizer:M,Tap:H,Pan:F,Swipe:j,Pinch:$,Rotate:B,Press:z,on:p,off:d,each:o,merge:s,extend:r,inherit:e,bindFn:l,prefixed:_}),typeof define==W&&define.amd?define(function(){return U}):"undefined"!=typeof module&&module.exports?module.exports=U:n.Hammer=U}(window,document),function(t,e,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):e.Fingerprint=i()}(0,this,function(){"use strict";var t=function(t){var s,e;s=Array.prototype.forEach,e=Array.prototype.map,this.each=function(t,e,i){if(null!==t)if(s&&t.forEach===s)t.forEach(e,i);else if(t.length===+t.length){for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t)==={})return}else for(var r in t)if(t.hasOwnProperty(r)&&e.call(i,t[r],r,t)==={})return},this.map=function(t,n,o){var r=[];return null==t?r:e&&t.map===e?t.map(n,o):(this.each(t,function(t,e,i){r[r.length]=n.call(o,t,e,i)}),r)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return t.prototype={get:function(){var t=[];(t.push(navigator.userAgent),t.push(navigator.language),t.push(screen.colorDepth),this.screen_resolution)&&(void 0!==this.getScreenResolution()&&t.push(this.getScreenResolution().join("x")));return t.push((new Date).getTimezoneOffset()),t.push(this.hasSessionStorage()),t.push(this.hasLocalStorage()),t.push(!!window.indexedDB),document.body?t.push(typeof document.body.addBehavior):t.push("undefined"),t.push(typeof window.openDatabase),t.push(navigator.cpuClass),t.push(navigator.platform),t.push(navigator.doNotTrack),t.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&t.push(this.getCanvasFingerprint()),this.hasher?this.hasher(t.join("###"),31):this.murmurhash3_32_gc(t.join("###"),31)},murmurhash3_32_gc:function(t,e){var i,n,o,r,s,a,h,l;for(i=3&t.length,n=t.length-i,o=e,s=3432918353,a=461845907,l=0;l<n;)h=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,o=27492+(65535&(r=5*(65535&(o=(o^=h=(65535&(h=(h=(65535&h)*s+(((h>>>16)*s&65535)<<16)&4294967295)<<15|h>>>17))*a+(((h>>>16)*a&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(h=0,i){case 3:h^=(255&t.charCodeAt(l+2))<<16;case 2:h^=(255&t.charCodeAt(l+1))<<8;case 1:o^=h=(65535&(h=(h=(65535&(h^=255&t.charCodeAt(l)))*s+(((h>>>16)*s&65535)<<16)&4294967295)<<15|h>>>17))*a+(((h>>>16)*a&65535)<<16)&4294967295}return o^=t.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(t){try{return new ActiveXObject(t),t}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),i="http://valve.github.io";return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(i,4,17),t.toDataURL()}},t}),function(d){function f(t,e){var i={align:"center",valign:"center"};if(d.extend(i,e),0!==t.height()){var n,o,r,s,a,h=(s=window,a="inner","innerWidth"in window||(s=document.documentElement||document.body,a="client"),{width:s[a+"Width"],height:s[a+"Height"]}),l=h.width,u=h.height,c=t.width(),p=t.height()/c;o=p<u/l?(n=u/p,u):(n=l)*p,r={width:n+"px",height:o+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"},isNaN(parseInt(i.valign,10))?"top"==i.valign?r.top=0:"bottom"==i.valign?r.bottom=0:r.top=(u-o)/2:r.top=0-(o-u)/100*parseInt(i.valign,10)+"px",isNaN(parseInt(i.align,10))?"left"==i.align?r.left=0:"right"==i.align?r.right=0:r.left=(l-n)/2:r.left=0-(n-l)/100*parseInt(i.align,10)+"px",t.css(r)}else t.load(function(){f(d(this),e)})}var o,n=d("<img />").addClass("vegas-background"),i=d("<div />").addClass("vegas-overlay"),r=d("<div />").addClass("vegas-loading"),s=d(),a=null,h=[],l=0,u=5e3,c=function(){},e={init:function(t){var e={src:d("body").css("backgroundImage")?d("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1"):void 0,align:"center",valign:"center",fade:0,loading:!0,load:function(){},complete:function(){}};d.extend(e,d.vegas.defaults.background,t),e.loading&&r.prependTo("body").fadeIn();var i=n.clone();return i.css({position:"fixed",left:"0px",top:"0px"}).bind("load",function(){i!=s&&(d(window).bind("load resize.vegas",function(){f(i,e)}),s.is("img")?(s.stop(),i.hide().insertAfter(s).fadeIn(e.fade,function(){d(".vegas-background").not(this).remove(),d("body").trigger("vegascomplete",[this,l-1]),e.complete.apply(i,[l-1])})):i.hide().prependTo("body").fadeIn(e.fade,function(){d("body").trigger("vegascomplete",[this,l-1]),e.complete.apply(this,[l-1])}),f(s=i,e),e.loading&&r.fadeOut("fast",function(){d(this).remove()}),d("body").trigger("vegasload",[s.get(0),l-1]),e.load.apply(s.get(0),[l-1]),l&&(d("body").trigger("vegaswalk",[s.get(0),l-1]),e.walk.apply(s.get(0),[l-1])))}).attr("src",e.src),d.vegas},destroy:function(t){return t&&"background"!=t||(d(".vegas-background, .vegas-loading").remove(),d(window).unbind("*.vegas"),s=d()),t&&"overlay"!=t||d(".vegas-overlay").remove(),clearInterval(o),d.vegas},overlay:function(t){var e={src:null,opacity:null};return d.extend(e,d.vegas.defaults.overlay,t),i.remove(),i.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),!1===e.src&&i.css("backgroundImage","none"),e.src&&i.css("backgroundImage","url("+e.src+")"),e.opacity&&i.css("opacity",e.opacity),i.prependTo("body"),d.vegas},slideshow:function(t,e){var i={step:l,delay:u,preload:!1,loading:!0,backgrounds:h,walk:c};if(d.extend(i,d.vegas.defaults.slideshow,t),i.backgrounds!=h&&(t.step||(i.step=0),t.walk||(i.walk=function(){}),i.preload&&d.vegas("preload",i.backgrounds)),h=i.backgrounds,u=i.delay,l=i.step,c=i.walk,clearInterval(o),!h.length)return d.vegas;var n=function(){l<0&&(l=h.length-1),(l>=h.length||!h[l-1])&&(l=0);var t=h[l++];t.walk=i.walk,t.loading=i.loading,void 0===t.fade&&(t.fade=i.fade),t.fade>i.delay&&(t.fade=i.delay),d.vegas(t)};return n(),e||(a=!1,d("body").trigger("vegasstart",[s.get(0),l-1])),a||(o=setInterval(n,i.delay)),d.vegas},next:function(){var t=l;return l&&(d.vegas("slideshow",{step:l},!0),d("body").trigger("vegasnext",[s.get(0),l-1,t-1])),d.vegas},previous:function(){var t=l;return l&&(d.vegas("slideshow",{step:l-2},!0),d("body").trigger("vegasprevious",[s.get(0),l-1,t-1])),d.vegas},jump:function(t){var e=l;return l&&(d.vegas("slideshow",{step:t},!0),d("body").trigger("vegasjump",[s.get(0),l-1,e-1])),d.vegas},stop:function(){var t=l;return l=0,a=null,clearInterval(o),d("body").trigger("vegasstop",[s.get(0),t-1]),d.vegas},pause:function(){return a=!0,clearInterval(o),d("body").trigger("vegaspause",[s.get(0),l-1]),d.vegas},get:function(t){return null===t||"background"==t?s.get(0):"overlay"==t?i.get(0):"step"==t?l-1:"paused"==t?a:void 0},preload:function(t){var e=[];for(var i in t)if(t[i].src){var n=document.createElement("img");n.src=t[i].src,e.push(n)}return d.vegas}};d.vegas=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void d.error("Method "+t+" does not exist"):e.init.apply(this,arguments)},d.vegas.defaults={background:{},slideshow:{},overlay:{}}}(jQuery),function(r){"use strict";function s(t,e){this.$el=r(t),this.options=e,this.init=!1,this.enabled=e.enabled,this._generate()}s.prototype={_generate:function(){if(!r.support.canvas)return this.$el.append("Canvas is not supported in this browser."),!0;this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),"static"===this.$el.css("position")&&this.$el.css("position","relative"),this.$img=r('<img src=""/>').css({position:"absolute",width:"100%",height:"100%"}),this.$scratchpad=r(this.canvas).css({position:"absolute",width:"100%",height:"100%"}),this.$scratchpad.bindMobileEvents(),this.$scratchpad.mousedown(r.proxy(function(t){if(!this.enabled)return!0;this.canvasOffset=r(this.canvas).offset(),this.scratch=!0,this._scratchFunc(t,"Down")},this)).mousemove(r.proxy(function(t){this.scratch&&this._scratchFunc(t,"Move")},this)).mouseup(r.proxy(function(t){this.scratch&&(this.scratch=!1,this._scratchFunc(t,"Up"))},this)),this._setOptions(),this.$el.append(this.$img).append(this.$scratchpad),this.init=!0,this.reset()},reset:function(){var t=this,e=Math.ceil(this.$el.innerWidth()),i=Math.ceil(this.$el.innerHeight()),n=window.devicePixelRatio||1;this.pixels=e*i,this.$scratchpad.attr("width",e).attr("height",i),this.canvas.setAttribute("width",e*n),this.canvas.setAttribute("height",i*n),this.ctx.scale(n,n),this.pixels=e*n*i*n,this.$img.hide(),this.options.bg&&("#"===this.options.bg.charAt(0)?this.$el.css("backgroundColor",this.options.bg):(this.$el.css("backgroundColor",""),this.$img.attr("src",this.options.bg))),this.options.fg&&("#"===this.options.fg.charAt(0)?(this.ctx.fillStyle=this.options.fg,this.ctx.beginPath(),this.ctx.rect(0,0,e,i),this.ctx.fill(),this.$img.show()):r(new Image).attr("src",this.options.fg).load(function(){t.ctx.drawImage(this,0,0,e,i),t.$img.show()}))},clear:function(){this.ctx.clearRect(0,0,Math.ceil(this.$el.innerWidth()),Math.ceil(this.$el.innerHeight()))},enable:function(t){this.enabled=!0===t},destroy:function(){this.$el.children().remove(),r.removeData(this.$el,"wScratchPad")},_setOptions:function(){var t,e;for(t in this.options)this.options[t]=this.$el.attr("data-"+t)||this.options[t],this[e="set"+t.charAt(0).toUpperCase()+t.substring(1)]&&this[e](this.options[t])},setBg:function(){this.init&&this.reset()},setFg:function(){this.setBg()},setCursor:function(t){this.$el.css("cursor",t)},_scratchFunc:function(t,e){t.pageX=Math.floor(t.pageX-this.canvasOffset.left),t.pageY=Math.floor(t.pageY-this.canvasOffset.top),this["_scratch"+e](t),(this.options.realtime||"Up"===e)&&this.options["scratch"+e]&&this.options["scratch"+e].apply(this,[t,this._scratchPercent()])},_scratchPercent:function(){for(var t=0,e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),i=0,n=e.data.length;i<n;i+=4)0===e.data[i]&&0===e.data[i+1]&&0===e.data[i+2]&&0===e.data[i+3]&&t++;return t/this.pixels*100},_scratchDown:function(t){this.ctx.globalCompositeOperation="destination-out",this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.size,this.ctx.beginPath(),this.ctx.arc(t.pageX,t.pageY,this.options.size/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(t.pageX,t.pageY)},_scratchMove:function(t){this.ctx.lineTo(t.pageX,t.pageY),this.ctx.stroke()},_scratchUp:function(){this.ctx.closePath()}},r.support.canvas=document.createElement("canvas").getContext,r.fn.wScratchPad=function(e,t){if("string"!=typeof e)return e=r.extend({},r.fn.wScratchPad.defaults,e),this.each(function(){var t=r.data(this,"wScratchPad");return t||(t=new s(this,r.extend(!0,{},e)),r.data(this,"wScratchPad",t)),t});var i,n=[],o=(void 0!==t?"set":"get")+e.charAt(0).toUpperCase()+e.substring(1);return this.each(function(){(i=r.data(this,"wScratchPad"))&&(i[e]?i[e].apply(i,[t]):void 0!==t?(i.options[e]&&(i.options[e]=t),i[o]&&i[o].apply(i,[t])):n.push(i[o]?i[o].apply(i,[t]):i.options[e]?i.options[e]:void 0))}),n.length?1===n.length?n[0]:n:this},r.fn.wScratchPad.defaults={size:5,bg:"#cacaca",fg:"#6699ff",realtime:!0,scratchDown:null,scratchUp:null,scratchMove:null,cursor:"crosshair"},r.fn.bindMobileEvents=function(){r(this).on("touchstart touchmove touchend touchcancel",function(t){var e=(t.originalEvent.changedTouches||t.originalEvent.targetTouches)[0],i="";switch(t.type){case"touchstart":i="mousedown";break;case"touchmove":i="mousemove",t.preventDefault();break;case"touchend":i="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(i,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)})}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"undefined"!=typeof module&&module.exports?module.exports=e(t,t.document):t.Shake=e(t,t.document)}("undefined"!=typeof window?window:this,function(r,i){"use strict";function t(t){if(this.hasDeviceMotion="ondevicemotion"in r,this.options={threshold:15,timeout:1e3},"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof i.CustomEvent)this.event=new i.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof i.createEvent)return!1;this.event=i.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return t.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},t.prototype.start=function(){this.reset(),this.hasDeviceMotion&&r.addEventListener("devicemotion",this,!1)},t.prototype.stop=function(){this.hasDeviceMotion&&r.removeEventListener("devicemotion",this,!1),this.reset()},t.prototype.devicemotion=function(t){var e,i,n,o=t.accelerationIncludingGravity;if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=o.x,this.lastY=o.y,void(this.lastZ=o.z);e=Math.abs(this.lastX-o.x),i=Math.abs(this.lastY-o.y),n=Math.abs(this.lastZ-o.z),(e>this.options.threshold&&i>this.options.threshold||e>this.options.threshold&&n>this.options.threshold||i>this.options.threshold&&n>this.options.threshold)&&(new Date).getTime()-this.lastTime.getTime()>this.options.timeout&&(r.dispatchEvent(this.event),this.lastTime=new Date),this.lastX=o.x,this.lastY=o.y,this.lastZ=o.z},t.prototype.handleEvent=function(t){if("function"==typeof this[t.type])return this[t.type](t)},t}),function(p,d){"use strict";var e,i,f={},n=p.document,m=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!m.TweenLite){var t,o,r,v,g,_=function(t){var e,i=t.split("."),n=m;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},c=_("com.greensock"),y=1e-10,h=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},w=function(){},b=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),T={},S=function(a,h,l,u){this.sc=T[a]?T[a].sc:[],(T[a]=this).gsClass=null,this.func=l;var c=[];this.check=function(t){for(var e,i,n,o,r=h.length,s=r;-1<--r;)(e=T[h[r]]||new S(h[r],[])).gsClass?(c[r]=e.gsClass,s--):t&&e.sc.push(this);if(0===s&&l){if(n=(i=("com.greensock."+a).split(".")).pop(),o=_(i.join("."))[n]=this.gsClass=l.apply(l,c),u)if(m[n]=f[n]=o,"undefined"!=typeof module&&module.exports)if(a===d)for(r in module.exports=f[d]=o,f)o[r]=f[r];else f[d]&&(f[d][n]=o);else"function"==typeof define&&define.amd&&define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return o});for(r=0;r<this.sc.length;r++)this.sc[r].check()}},this.check(!0)},s=p._gsDefine=function(t,e,i,n){return new S(t,e,i,n)},P=c._class=function(t,e,i){return e=e||function(){},s(t,[],function(){return e},i),e};s.globals=m;var a=[0,0,1,1],k=P("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?a.concat(e):a},!0),x=k.map={},l=k.register=function(t,e,i,n){for(var o,r,s,a,h=e.split(","),l=h.length,u=(i||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(r=h[l],o=n?P("easing."+r,null,!0):c.easing[r]||{},s=u.length;-1<--s;)a=u[s],x[r+"."+a]=x[a+r]=o[a]=t.getRatio?t:t[a]||new t};for((r=k.prototype)._calcEnd=!1,r.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},o=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--o;)r=t[o]+",Power"+o,l(new k(null,null,1,o),r,"easeOut",!0),l(new k(null,null,2,o),r,"easeIn"+(0===o?",easeNone":"")),l(new k(null,null,3,o),r,"easeInOut");x.linear=c.easing.Linear.easeIn,x.swing=c.easing.Quad.easeInOut;var A=P("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(r=A.prototype).addEventListener=function(t,e,i,n,o){o=o||0;var r,s,a=this._listeners[t],h=0;for(this!==v||g||v.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;-1<--s;)(r=a[s]).c===e&&r.s===i?a.splice(s,1):0===h&&r.pr<o&&(h=s+1);a.splice(h,0,{c:e,s:i,up:n,pr:o})},r.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;-1<--i;)if(n[i].c===e)return void n.splice(i,1)},r.dispatchEvent=function(t){var e,i,n,o=this._listeners[t];if(o)for(1<(e=o.length)&&(o=o.slice(0)),i=this._eventTarget;-1<--e;)(n=o[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var C=p.requestAnimationFrame,E=p.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},I=O();for(o=(t=["ms","moz","webkit","o"]).length;-1<--o&&!C;)C=p[t[o]+"RequestAnimationFrame"],E=p[t[o]+"CancelAnimationFrame"]||p[t[o]+"CancelRequestAnimationFrame"];P("Ticker",function(t,e){var o,r,s,a,h,l=this,u=O(),i=!(!1===e||!C)&&"auto",c=500,p=33,d=function(t){var e,i,n=O()-I;c<n&&(u+=n-p),I+=n,l.time=(I-u)/1e3,e=l.time-h,(!o||0<e||!0===t)&&(l.frame++,h+=e+(a<=e?.004:a-e),i=!0),!0!==t&&(s=r(d)),i&&l.dispatchEvent("tick")};A.call(l),l.time=l.frame=0,l.tick=function(){d(!0)},l.lagSmoothing=function(t,e){c=t||1e10,p=Math.min(e,c,0)},l.sleep=function(){null!=s&&(i&&E?E(s):clearTimeout(s),r=w,s=null,l===v&&(g=!1))},l.wake=function(t){null!==s?l.sleep():t?u+=-I+(I=O()):10<l.frame&&(I=O()-c+5),r=0===o?w:i&&C?C:function(t){return setTimeout(t,1e3*(h-l.time)+1|0)},l===v&&(g=!0),d(2)},l.fps=function(t){return arguments.length?(a=1/((o=t)||60),h=this.time+a,void l.wake()):o},l.useRAF=function(t){return arguments.length?(l.sleep(),i=t,void l.fps(o)):i},l.fps(t),setTimeout(function(){"auto"===i&&l.frame<5&&"hidden"!==n.visibilityState&&l.useRAF(!1)},1500)}),(r=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var u=P("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,V){g||v.wake();var i=this.vars.useFrames?Q:V;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});v=u.ticker=new c.Ticker,(r=u.prototype)._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var R=function(){g&&2e3<O()-I&&"hidden"!==n.visibilityState&&v.wake();var t=setTimeout(R,2e3);t.unref&&t.unref()};R(),r.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},r.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},r.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},r.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},r.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},r.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},r.render=function(t,e,i){},r.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},r.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},r._enabled=function(t,e){return g||v.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(t,e){return this._enabled(!1,!1)},r.kill=function(t,e){return this._kill(t,e),this},r._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},r._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},r._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],o=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(o);break;case 1:i.call(o,n[0]);break;case 2:i.call(o,n[0],n[1]);break;default:i.apply(o,n)}},r.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[t];null==e?delete o[t]:(o[t]=e,o[t+"Params"]=b(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,o[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},r.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},r.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},r.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},r.totalTime=function(t,e,i){if(g||v.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(n<t&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-t:t)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(M.length&&J(),this.render(t,e,!1),M.length&&J())}return this},r.progress=r.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},r.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},r.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},r.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||y,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},r.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},r.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(g||t||v.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=P("core.SimpleTimeline",function(t){u.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(r=D.prototype=new u).constructor=D,r.kill()._gc=!1,r._first=r._last=r._recent=null,r._sortChildren=!1,r.add=r.insert=function(t,e,i,n){var o,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),o=this._last,this._sortChildren)for(r=t._startTime;o&&o._startTime>r;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=o,this._recent=t,this._timeline&&this._uncache(!0),this},r._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},r.render=function(t,e,i){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;o;)n=o._next,(o._active||t>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,e,i):o.render((t-o._startTime)*o._timeScale,e,i)),o=n},r.rawTime=function(){return g||v.wake(),this._totalTime};var L=P("TweenLite",function(t,e,i){if(u.call(this,e,i),this.render=L.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:L.selector(t)||t;var n,o,r,s=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?W[L.defaultOverwrite]:"number"==typeof a?a>>0:W[a],(s||t instanceof Array||t.push&&b(t))&&"number"!=typeof t[0])for(this._targets=r=h(t),this._propLookup=[],this._siblings=[],n=0;n<r.length;n++)(o=r[n])?"string"!=typeof o?o.length&&o!==p&&o[0]&&(o[0]===p||o[0].nodeType&&o[0].style&&!o.nodeType)?(r.splice(n--,1),this._targets=r=r.concat(h(o))):(this._siblings[n]=K(o,this,!1),1===a&&1<this._siblings[n].length&&et(o,this,null,1,this._siblings[n])):"string"==typeof(o=r[n--]=L.selector(o))&&r.splice(n+1,1):r.splice(n--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===a&&1<this._siblings.length&&et(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-y,this.render(Math.min(0,-this._delay)))},!0),N=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(r=L.prototype=new u).constructor=L,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=r._lazy=!1,L.version="1.20.2",L.defaultEase=r._ease=new k(null,null,1,1),L.defaultOverwrite="auto",L.ticker=v,L.autoSleep=120,L.lagSmoothing=function(t,e){v.lagSmoothing(t,e)},L.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(L.selector=e)(t):void 0===n?t:n.querySelectorAll?n.querySelectorAll(t):n.getElementById("#"===t.charAt(0)?t.substr(1):t)};var M=[],F={},$=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,B=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},j=function(t,e,i,n){var o,r,s,a,h,l,u,c=[],p=0,d="",f=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,o=t.match($)||[],r=e.match($)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),h=r.length,a=0;a<h;a++)u=r[a],d+=(l=e.substr(p,e.indexOf(u,p)-p))||!a?l:",",p+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),u===o[a]||o.length<=a?d+=u:(d&&(c.push(d),d=""),s=parseFloat(o[a]),c.push(s),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:s,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-s)||0,f:0,m:f&&f<4?Math.round:0}),p+=u.length;return(d+=e.substr(p))&&c.push(d),c.setRatio=B,z.test(e)&&(c.end=0),c},H=function(t,e,i,n,o,r,s,a,h){"function"==typeof n&&(n=n(h||0,t));var l=typeof t[e],u="function"!==l?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==i?i:u?s?t[u](s):t[u]():t[e],p="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:c,f:"function"===l,pg:0,n:o||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};return("number"!=typeof c||"number"!=typeof n&&!p)&&(s||isNaN(c)||!p&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(d.fp=s,d={t:j(c,p?parseFloat(d.s)+d.c:n,a||L.defaultStringFilter,d),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):(d.s=parseFloat(c),p||(d.c=parseFloat(n)-d.s||0))),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d):void 0},U=L._internals={isArray:b,isSelector:N,lazyTweens:M,blobDif:j},X=L._plugins={},Y=U.tweenLookup={},q=0,G=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=u._rootFramesTimeline=new D,V=u._rootTimeline=new D,Z=30,J=U.lazyRender=function(){var t,e=M.length;for(F={};-1<--e;)(t=M[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);M.length=0};V._startTime=v.time,Q._startTime=v.frame,V._active=Q._active=!0,setTimeout(J,1),u._updateRoot=L.render=function(){var t,e,i;if(M.length&&J(),V.render((v.time-V._startTime)*V._timeScale,!1,!1),Q.render((v.frame-Q._startTime)*Q._timeScale,!1,!1),M.length&&J(),v.frame>=Z){for(i in Z=v.frame+(parseInt(L.autoSleep,10)||120),Y){for(t=(e=Y[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Y[i]}if((!(i=V._first)||i._paused)&&L.autoSleep&&!Q._first&&1===v._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||v.sleep()}}},v.addEventListener("tick",u._updateRoot);var K=function(t,e,i){var n,o,r=t._gsTweenID;if(Y[r||(t._gsTweenID=r="t"+q++)]||(Y[r]={target:t,tweens:[]}),e&&((n=Y[r].tweens)[o=n.length]=e,i))for(;-1<--o;)n[o]===e&&n.splice(o,1);return Y[r].tweens},tt=function(t,e,i,n){var o,r,s=t.vars.onOverwrite;return s&&(o=s(t,e,i,n)),(s=L.onOverwrite)&&(r=s(t,e,i,n)),!1!==o&&!1!==r},et=function(t,e,i,n,o){var r,s,a,h;if(1===n||4<=n){for(h=o.length,r=0;r<h;r++)if((a=o[r])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var l,u=e._startTime+y,c=[],p=0,d=0===e._duration;for(r=o.length;-1<--r;)(a=o[r])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||it(e,0,d),0===it(a,l,d)&&(c[p++]=a)):a._startTime<=u&&a._startTime+a.totalDuration()/a._timeScale>u&&((d||!a._initted)&&u-a._startTime<=2e-10||(c[p++]=a)));for(r=p;-1<--r;)if(a=c[r],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!tt(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},it=function(t,e,i){for(var n=t._timeline,o=n._timeScale,r=t._startTime;n._timeline;){if(r+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return e<(r/=o)?r-e:i&&r===e||!t._initted&&r-e<2*y?y:(r+=t.totalDuration()/t._timeScale/o)>e+y?0:r-e-y};r._init=function(){var t,e,i,n,o,r,s=this.vars,a=this._overwrittenProps,h=this._duration,l=!!s.immediateRender,u=s.ease;if(s.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},s.startAt)o[n]=s.startAt[n];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&!1!==s.lazy,o.startAt=o.delay=null,o.onUpdate=s.onUpdate,o.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=L.to(this.target,0,o),l)if(0<this._time)this._startAt=null;else if(0!==h)return}else if(s.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},s)G[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==s.lazy,i.immediateRender=l,this._startAt=L.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof k?u:"function"==typeof u?new k(u,s.easeParams):x[u]||L.defaultEase:L.defaultEase,s.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&L._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},r._initProps=function(t,e,i,n,o){var r,s,a,h,l,u;if(null==t)return!1;for(r in F[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==p&&t.nodeType&&X.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!X[i]||X[i]&&X[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(u=this.vars[r],G[r])u&&(u instanceof Array||u.push&&b(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[r]=u=this._swapSelfInParams(u,this));else if(X[r]&&(h=new X[r])._onInitTween(t,this.vars[r],this,o)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:r,pg:1,pr:h._priority,m:0},s=h._overwriteProps.length;-1<--s;)e[h._overwriteProps[s]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[r]=H.call(this,t,r,"get",u,r,0,null,this.vars.stringFilter,o);return n&&this._kill(n,t)?this._initProps(t,e,i,n,o):1<this._overwrite&&this._firstPT&&1<i.length&&et(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),a)},r.render=function(t,e,i){var n,o,r,s,a=this._time,h=this._duration,l=this._rawPrevTime;if(h-1e-7<=t&&0<=t)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&-1e-7<=t||l===y&&"isPause"!==this.data)&&l!==t&&(i=!0,y<l&&(o="onReverseComplete")),this._rawPrevTime=s=!e||t||l===t?t:y);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&0<l)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(0<=l&&(l!==y||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||l===t?t:y)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/h,c=this._easeType,p=this._easePower;(1===c||3===c&&.5<=u)&&(u=1-u),3===c&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:t/h<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,M.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&0<=t&&(this._active=!0),0===a&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),o&&(!this._gc||i)&&(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===h&&this._rawPrevTime===y&&s!==y&&(this._rawPrevTime=0))}},r._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var n,o,r,s,a,h,l,u,c,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((b(e)||N(e))&&"number"!=typeof e[0])for(n=e.length;-1<--n;)this._kill(t,e[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,u=t!==o&&"all"!==o&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(L.onOverwrite||this.vars.onOverwrite)){for(r in l)a[r]&&(c||(c=[]),c.push(r));if((c||!t)&&!tt(this,i,e,c))return!1}for(r in l)(s=a[r])&&(p&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,h=!0),s.pg&&s.t._kill(l)&&(h=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[r]),u&&(o[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},r.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],u.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-y,this.render(Math.min(0,-this._delay))),this},r._enabled=function(t,e){if(g||v.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return u.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(t?"_onEnable":"_onDisable",this)},L.to=function(t,e,i){return new L(t,e,i)},L.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new L(t,e,i)},L.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new L(t,e,n)},L.delayedCall=function(t,e,i,n,o){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},L.set=function(t,e){return new L(t,0,e)},L.getTweensOf=function(t,e){if(null==t)return[];var i,n,o,r;if(t="string"!=typeof t?t:L.selector(t)||t,(b(t)||N(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];-1<--i;)n=n.concat(L.getTweensOf(t[i],e));for(i=n.length;-1<--i;)for(r=n[i],o=i;-1<--o;)r===n[o]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=K(t).concat()).length;-1<--i;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},L.killTweensOf=L.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=L.getTweensOf(t,e),o=n.length;-1<--o;)n[o]._kill(i,t)};var nt=P("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=nt.prototype},!0);if(r=nt.prototype,nt.version="1.19.0",nt.API=2,r._firstPT=null,r._addTween=H,r.setRatio=B,r._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},r._mod=r._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},L._onPluginEvent=function(t,e){var i,n,o,r,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=o;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:o=a,(a._next=n)?n._prev=a:r=a,a=s}a=e._firstPT=o}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},nt.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===nt.API&&(X[(new t[e])._propName]=t[e]);return!0},s.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,o=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=P("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){nt.call(this,i,n),this._overwriteProps=o||[]},!0===t.global),a=s.prototype=new nt(i);for(e in(a.constructor=s).API=t.API,r)"function"==typeof t[e]&&(a[r[e]]=t[e]);return s.version=t.version,nt.activate([s]),s},t=p._gsQueue){for(o=0;o<t.length;o++)t[o]();for(r in T)T[r].func||p.console.log("GSAP encountered missing dependency: "+r)}g=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite"),function(t){var s,i,g,_,o,e,n=100,r=["webkit","moz",""],l=document.documentElement,a=l.style;function h(t){for(var e,i,n,o=0;o<r.length;o++)if((i=(e=r[o])?e+((n=t).slice(0,1).toUpperCase()+n.slice(1)):t)in a)return i}function u(t){return Math.round(t*n)/n}function c(t){return Math.max(0,Math.min(1,t))}function p(t,e,i){return(t-e)/(i-e)}function d(t){return"peel-"+t}function f(t,e){t.style[i]=e}function y(t,e,i,n,o){return u(t)+"px "+u(e)+"px "+u(i)+"px "+(n?u(n)+"px ":"")+"rgba(0,0,0,"+u(o)+")"}function m(t,e){t.style.opacity=e}function v(t,e,i){var n;o&&(n=0===i.length?"none":"linear-gradient("+u(e)+"deg,"+i.join(",")+")",t.style.backgroundImage=n)}function w(t,e,i){t.addEventListener(e,i)}function b(t,e,i){t.removeEventListener(e,i)}function T(t,e){var i=t.changedTouches?t.changedTouches[0]:t;return{x:i.clientX-e.offsetLeft+window.scrollX,y:i.clientY-e.offsetTop+window.scrollY}}function S(t,e){return k(0,0,0,t,e)}function P(t,e){return k(255,255,255,t,e)}function k(t,e,i,n,o){return"rgba("+t+","+e+","+i+","+(n=u(c(n)))+") "+u(100*o)+"%"}function x(t,e){return"string"==typeof t&&(t=(e||document).querySelector(t)),t}function A(t,e){t.classList.add(e)}function C(t,e,i){e=e||l;var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e.appendChild(n),i)i.hasOwnProperty(o)&&E(n,o,i[o]);return n}function E(t,e,i){t.setAttributeNS(null,e,i)}function O(t,e){this.setOptions(e),this.el=x(t,l),this.constraints=[],this.events=[],this.setupLayers(),this.setupDimensions(),this.setCorner(this.getOption("corner")),this.setMode(this.getOption("mode")),this.init()}function I(t,e){this.el=t,this.shape=I.createClipPath(t,e||{type:"polygon"}),f(this.el,"translate(0px,0px)")}function R(t,e){this.center=t,this.radius=e}function D(){this.points=[]}function L(t,e,i,n){this.p1=t,this.c1=e,this.p2=n,this.c2=i}function N(t,e){this.p1=t,this.p2=e}function M(t,e){this.x=t,this.y=e}O.Corners={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3},O.Defaults={topShadow:!0,topShadowBlur:5,topShadowAlpha:.5,topShadowOffsetX:0,topShadowOffsetY:1,topShadowCreatesShape:!0,backReflection:!1,backReflectionSize:.02,backReflectionOffset:0,backReflectionAlpha:.15,backReflectionDistribute:!0,backShadow:!0,backShadowSize:.04,backShadowOffset:0,backShadowAlpha:.1,backShadowDistribute:!0,bottomShadow:!0,bottomShadowSize:1.5,bottomShadowOffset:0,bottomShadowDarkAlpha:.7,bottomShadowLightAlpha:.1,bottomShadowDistribute:!0,setPeelOnInit:!0,clippingBoxScale:4,flipConstraintOffset:5,dragPreventsDefault:!0},O.prototype.setCorner=function(){var t=arguments;void 0===t[0]?t=[O.Corners.BOTTOM_RIGHT]:t[0].length&&(t=t[0]),this.corner=this.getPointOrCorner(t)},O.prototype.setMode=function(t){"book"===t?(this.addPeelConstraint(O.Corners.BOTTOM_LEFT),this.addPeelConstraint(O.Corners.TOP_LEFT),this.setOption("backReflection",!1),this.setOption("backShadowDistribute",!1),this.setOption("bottomShadowDistribute",!1)):"calendar"===t&&(this.addPeelConstraint(O.Corners.TOP_RIGHT),this.addPeelConstraint(O.Corners.TOP_LEFT))},O.prototype.setPeelPath=function(t,e){var i,n,o,r,s=arguments;i=new M(t,e),4===s.length?(n=new M(s[2],s[3]),this.path=new N(i,n)):8===s.length&&(o=new M(s[2],s[3]),r=new M(s[4],s[5]),n=new M(s[6],s[7]),this.path=new L(i,o,r,n))},O.prototype.handleDrag=function(t,e){this.dragHandler=t,this.setupDragEvents(e)},O.prototype.handlePress=function(t,e){this.pressHandler=t,this.setupDragEvents(e)},O.prototype.setupDragEvents=function(t){var i,n,o,r=this;function e(t,e){r.getOption("dragPreventsDefault")&&e.preventDefault(),o=t?"touchend":"mouseup",w(l,n=t?"touchmove":"mousemove",s),w(l,o,a),i=!1}function s(t){r.dragHandler&&h(r.dragHandler,t),i=!0}function a(t){!i&&r.pressHandler&&h(r.pressHandler,t),b(l,n,s),b(l,o,a)}function h(t,e){var i=T(e,r.el);t.call(r,e,i.x,i.y)}this.dragEventsSetup||(t=t||this.el,this.addEvent(t,"mousedown",e.bind(this,!1)),this.addEvent(t,"touchstart",e.bind(this,!0)),this.dragEventsSetup=!0)},O.prototype.removeEvents=function(){this.events.forEach(function(t,e){b(t.el,t.type,t.handler)}),this.events=[]},O.prototype.setTimeAlongPath=function(t){t=c(t);var e=this.path.getPointForTime(t);this.timeAlongPath=t,this.setPeelPosition(e.x,e.y)},O.prototype.setFadeThreshold=function(t){this.fadeThreshold=t},O.prototype.setPeelPosition=function(){var t=this.getPointOrCorner(arguments);(t=this.getConstrainedPeelPosition(t))&&(this.peelLineSegment=this.getPeelLineSegment(t),this.peelLineRotation=this.peelLineSegment.getAngle(),this.setClipping(),this.setBackTransform(t),this.setEffects())},O.prototype.addPeelConstraint=function(){var t=this.getPointOrCorner(arguments),e=this.corner.subtract(t).getLength();this.constraints.push(new R(t,e)),this.calculateFlipConstraint()},O.prototype.setOption=function(t,e){this.options[t]=e},O.prototype.getOption=function(t){return this.options[(e=t,e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()}))];var e},O.prototype.getAmountClipped=function(){return p(this.getTopClipArea(),this.width*this.height,0)},O.prototype.addEvent=function(t,e,i){return w(t,e,i),this.events.push({el:t,type:e,handler:i}),i},O.prototype.getTopClipArea=function(){var e=new D;return this.elementBox.forEach(function(t){this.distributeLineByPeelLine(t,e)},this),D.getArea(e.getPoints())},O.prototype.calculateFlipConstraint=function(){var i=this.corner,t=this.constraints.concat();this.flipConstraint=t.sort(function(t,e){i.y,t.center.y,i.y,e.center.y;return t-e})[0]},O.prototype.dragStart=function(t,e,i){},O.prototype.fireHandler=function(t,e){var i=T(t,this.el);e.call(this,t,i.x,i.y)},O.prototype.setClipping=function(){var e=new D,i=new D;this.clippingBox.forEach(function(t){this.distributeLineByPeelLine(t,e,i)},this),this.topClip.setPoints(e.getPoints()),this.backClip.setPoints(i.getPoints())},O.prototype.distributeLineByPeelLine=function(t,e,i){var n=this.peelLineSegment.getIntersectPoint(t);this.distributePointByPeelLine(t.p1,e,i),this.distributePointByPeelLine(n,e,i)},O.prototype.distributePointByPeelLine=function(t,e,i){if(t){var n=this.peelLineSegment.getPointDeterminant(t);n<=0&&e.addPoint(t),0<=n&&i&&i.addPoint(this.flipPointHorizontally(t))}},O.prototype.setOptions=function(t){var e=t||{},i=O.Defaults;for(var n in i)!i.hasOwnProperty(n)||n in e||(e[n]=i[n]);this.options=e},O.prototype.findOrCreateLayer=function(t,e,i){var n,o,r,s,a=t+"-element",h=d(t),l=x(this.getOption(a)||"."+h,e);return l||(n=e,o=h,A(r=document.createElement("div"),o),n.appendChild(r),l=r),A(l,d("layer")),s=i,l.style.zIndex=s,l},O.prototype.getPointOrCorner=function(t){return 2===t.length?new M(t[0],t[1]):"number"==typeof t[0]?this.getCornerPoint(t[0]):t[0]},O.prototype.getCornerPoint=function(t){return new M(+!!(1&t)*this.width,+!!(2&t)*this.height)},O.prototype.getOptionalShape=function(){var n;return["rect","polygon","path","circle"].some(function(t){var e,i=this.getOption(t);return i&&((e={}).attributes=i,e.type=t,n=e),n},this),n},O.prototype.setupLayers=function(){var t=this.getOptionalShape(),e=this.topLayer=this.findOrCreateLayer("top",this.el,2),i=this.backLayer=this.findOrCreateLayer("back",this.el,3);this.bottomLayer=this.findOrCreateLayer("bottom",this.el,1),t?(this.topLayer=this.wrapShapeLayer(this.topLayer,"top-outer-clip"),this.backLayer=this.wrapShapeLayer(this.backLayer,"back-outer-clip"),this.topShapeClip=new I(e,t),this.backShapeClip=new I(i,t),this.bottomShapeClip=new I(this.bottomLayer,t),this.getOption("topShadowCreatesShape")&&(this.topShadowElement=this.setupDropShadow(t,e))):this.topShadowElement=this.findOrCreateLayer("top-shadow",e,1),this.topClip=new I(this.topLayer),this.backClip=new I(this.backLayer),this.backShadowElement=this.findOrCreateLayer("back-shadow",i,1),this.backReflectionElement=this.findOrCreateLayer("back-reflection",i,2),this.bottomShadowElement=this.findOrCreateLayer("bottom-shadow",this.bottomLayer,1),this.usesBoxShadow=!t},O.prototype.setupDropShadow=function(t,e){var i=C("svg",e,{class:d("layer")});return C(t.type,i,t.attributes),i},O.prototype.wrapShapeLayer=function(t,e){var i=t.style.zIndex;A(t,d("shape-layer"));var n=this.findOrCreateLayer(e,this.el,i);return n.appendChild(t),n},O.prototype.setupDimensions=function(){this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.center=new M(this.width/2,this.height/2),this.elementBox=this.getScaledBox(1),this.clippingBox=this.getScaledBox(this.getOption("clippingBoxScale"))},O.prototype.getScaledBox=function(t){var e=t,i=t-1,n=new M(-this.width*i,-this.height*i),o=new M(this.width*e,-this.height*i),r=new M(this.width*e,this.height*e),s=new M(-this.width*i,this.height*e);return[new N(n,o),new N(o,r),new N(r,s),new N(s,n)]},O.prototype.getConstrainedPeelPosition=function(i){return this.constraints.forEach(function(t){var e=this.getFlipConstraintOffset(t,i);e&&(t=new R(t.center,t.radius-e)),i=t.constrainPoint(i)},this),i},O.prototype.getFlipConstraintOffset=function(t,e){var i=this.getOption("flipConstraintOffset");if(t===this.flipConstraint&&i){var n=this.corner.subtract(this.center),o=this.corner.subtract(t.center),r=o.getAngle(),s=(o.rotate(-r),e.subtract(t.center).rotate(-r));if(n.x*n.y<0&&(s.y*=-1),0<s.x&&0<s.y)return p(s.getAngle(),45,0)*i}},O.prototype.getPeelLineSegment=function(t){var e=this.corner.subtract(t).scale(.5),i=t.add(e);0===e.x&&0===e.y&&(e=t.subtract(this.center));var n=e.getLength(),o=Math.max(this.width,this.height)/n*10,r=e.rotate(-90).scale(o);return new N(i.add(r),i.subtract(r))},O.prototype.setBackTransform=function(t){var e=this.flipPointHorizontally(this.corner),i=2*(this.peelLineRotation-90),n=t.subtract(e.rotate(i)),o="translate("+u(n.x)+"px, "+u(n.y)+"px) rotate("+u(i)+"deg)";f(this.backLayer,o),f(this.topShadowElement,o)},O.prototype.getPeelLineDistance=function(){var t,e,i,n;this.peelLineRotation<90?(t=O.Corners.TOP_RIGHT,e=O.Corners.BOTTOM_LEFT):this.peelLineRotation<180?(t=O.Corners.BOTTOM_RIGHT,e=O.Corners.TOP_LEFT):this.peelLineRotation<270?(t=O.Corners.BOTTOM_LEFT,e=O.Corners.TOP_RIGHT):this.peelLineRotation<360&&(t=O.Corners.TOP_LEFT,e=O.Corners.BOTTOM_RIGHT);var o=new N(i=this.getCornerPoint(t),n=this.getCornerPoint(e)).scale(2),r=this.peelLineSegment.getIntersectPoint(o);return r?i.subtract(r).getLength()/i.subtract(n).getLength():2},O.prototype.setEffects=function(){var t=this.getPeelLineDistance();this.setTopShadow(t),this.setBackShadow(t),this.setBackReflection(t),this.setBottomShadow(t),this.setFade()},O.prototype.setTopShadow=function(t){if(this.getOption("topShadow")){var e,i,n,o,r,s,a,h,l,u,c,p=this.getOption("topShadowBlur"),d=this.getOption("topShadowOffsetX"),f=this.getOption("topShadowOffsetY"),m=this.getOption("topShadowAlpha"),v=this.exponential(t,5,m);this.usesBoxShadow?(s=this.topShadowElement,a=d,h=f,l=p,u=0,c=v,s.style[g]=y(a,h,l,u,c)):(e=this.topShadowElement,i=d,n=f,o=p,r=v,e.style[_]="drop-shadow("+y(i,n,o,null,r)+")")}},O.prototype.distributeOrLinear=function(t,e,i){return e?(n=t,2*(i||1)*(.5-Math.abs(n-.5))):t*i;var n},O.prototype.exponential=function(t,e,i){return i*c(Math.pow(1+t,e)-1)},O.prototype.setBackReflection=function(t){var e=[];if(this.canSetLinearEffect("backReflection",t)){var i=this.getOption("backReflectionDistribute"),n=this.getOption("backReflectionSize"),o=this.getOption("backReflectionOffset"),r=this.getOption("backReflectionAlpha"),s=this.distributeOrLinear(t,i,n),a=t-o,h=a-s,l=h-s;e.push(P(0,0)),e.push(P(0,l)),e.push(P(r,h)),e.push(P(0,a))}v(this.backReflectionElement,180-this.peelLineRotation,e)},O.prototype.setBackShadow=function(t){var e=[];if(this.canSetLinearEffect("backShadow",t)){var i=this.getOption("backShadowSize"),n=this.getOption("backShadowOffset"),o=this.getOption("backShadowAlpha"),r=this.getOption("backShadowDistribute"),s=this.distributeOrLinear(t,r,i),a=t-n,h=a-s,l=h-s;e.push(S(0,0)),e.push(S(0,l)),e.push(S(o,h)),e.push(S(o,a))}v(this.backShadowElement,180-this.peelLineRotation,e)},O.prototype.setBottomShadow=function(t){var e=[];if(this.canSetLinearEffect("bottomShadow",t)){var i=this.getOption("bottomShadowSize"),n=this.getOption("bottomShadowOffset"),o=this.getOption("bottomShadowDarkAlpha"),r=this.getOption("bottomShadowLightAlpha"),s=this.getOption("bottomShadowDistribute"),a=t-(.025-n),h=a-this.distributeOrLinear(t,s,.03)*i-n,l=h-(.02*i-n);e=[S(0,0),S(0,l),S(r,h),S(r,a),S(o,t)]}v(this.bottomShadowElement,this.peelLineRotation+180,e)},O.prototype.canSetLinearEffect=function(t,e){return this.getOption(t)&&0<e},O.prototype.setFade=function(){var t,e=this.fadeThreshold,i=1;e&&(e<(t=void 0!==this.timeAlongPath?this.timeAlongPath:this.getAmountClipped())&&(i=(1-t)/(1-e)),m(this.topLayer,i),m(this.backLayer,i),m(this.bottomShadowElement,i))},O.prototype.flipPointHorizontally=function(t){return new M(t.x-2*(t.x-this.center.x),t.y)},O.prototype.init=function(){this.getOption("setPeelOnInit")&&this.setPeelPosition(this.corner),A(this.el,d("ready"))},I.getDefs=function(){return this.defs||(this.svg=C("svg",null,{class:d("svg-clip-element")}),this.defs=C("defs",this.svg)),this.defs},I.createClipPath=function(t,e){var i,n=I.getId(),o=C("clipPath",this.getDefs()),r=C(e.type,o,e.attributes);return E(o,"id",n),i="url(#"+n+")",t.style[s]=i,r},I.getId=function(){return I.id||(I.id=1),"svg-clip-"+I.id++},I.prototype.setPoints=function(t){var e=t.map(function(t){return u(t.x)+","+u(t.y)}).join(" ");E(this.shape,"points",e)},R.prototype.containsPoint=function(t){if(this.boundingRectContainsPoint(t)){var e=this.center.x-t.x,i=this.center.y-t.y;return(e*=e)+(i*=i)<=this.radius*this.radius}return!1},R.prototype.boundingRectContainsPoint=function(t){return t.x>=this.center.x-this.radius&&t.x<=this.center.x+this.radius&&t.y>=this.center.y-this.radius&&t.y<=this.center.y+this.radius},R.prototype.constrainPoint=function(t){if(!this.containsPoint(t)){var e=t.subtract(this.center).getAngle();t=this.center.add(new M(this.radius,0).rotate(e))}return t},D.getArea=function(t){var o=0,r=0;return t.forEach(function(t,e,i){var n=i[(e+1)%i.length];o+=t.x*n.y,r+=t.y*n.x}),(o-r)/2},D.prototype.addPoint=function(t){this.points.push(t)},D.prototype.getPoints=function(){return this.points},L.prototype.getPointForTime=function(t){var e=Math.pow(1-t,3),i=3*t*Math.pow(1-t,2),n=3*Math.pow(t,2)*(1-t),o=Math.pow(t,3);return new M(e*this.p1.x+i*this.c1.x+n*this.c2.x+o*this.p2.x,e*this.p1.y+i*this.c1.y+n*this.c2.y+o*this.p2.y)},N.EPSILON=1e-6,N.prototype.getPointForTime=function(t){return this.p1.add(this.getVector().scale(t))},N.prototype.scale=function(t){return new N(this.p1.add(this.p2.subtract(this.p1).scale(t)),this.p2.add(this.p1.subtract(this.p2).scale(t)))},N.prototype.getPointDeterminant=function(t){var e=(t.x-this.p1.x)*(this.p2.y-this.p1.y)-(t.y-this.p1.y)*(this.p2.x-this.p1.x);return-N.EPSILON<e&&e<N.EPSILON&&(e=0),e},N.prototype.getIntersectPoint=function(t){var e=this;function i(t,e){return t.x*e.y-t.y*e.x}var n=e.p2.subtract(e.p1),o=t.p2.subtract(t.p1),r=i(t.p1.subtract(e.p1),n),s=i(n,o);if(0==s)return null;var a=r/s,h=i(t.p1.subtract(e.p1),o)/s;return 0<=h&&h<=1&&0<=a&&a<=1?e.p1.add(n.scale(h)):null},N.prototype.getAngle=function(){return this.getVector().getAngle()},N.prototype.getVector=function(){return this.vector||(this.vector=this.p2.subtract(this.p1)),this.vector},M.DEGREES_IN_RADIANS=180/Math.PI,M.degToRad=function(t){return t/M.DEGREES_IN_RADIANS},M.radToDeg=function(t){for(var e=t*M.DEGREES_IN_RADIANS;e<0;)e+=360;return e},M.vector=function(t,e){var i=M.degToRad(t);return new M(Math.cos(i)*e,Math.sin(i)*e)},M.prototype.add=function(t){return new M(this.x+t.x,this.y+t.y)},M.prototype.subtract=function(t){return new M(this.x-t.x,this.y-t.y)},M.prototype.scale=function(t){return new M(this.x*t,this.y*t)},M.prototype.getLength=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},M.prototype.getAngle=function(){return M.radToDeg(Math.atan2(this.y,this.x))},M.prototype.setAngle=function(t){return M.vector(t,this.getLength())},M.prototype.rotate=function(t){return this.setAngle(this.getAngle()+t)},s=h("clipPath"),i=h("transform"),g=h("boxShadow"),_=h("filter"),(e=document.createElement("div").style).cssText="background:linear-gradient(45deg,#9f9,white);",o=-1<(e.backgroundImage||"").indexOf("gradient"),O.supported=!(!s||!i),O.effectsSupported=o,t.Peel=O}(window),Array.prototype.remove=function(t){for(var e=0;e<this.length;e++)this[e]==t&&this.splice(e,1)},$.fn.preload=function(e){var i=this.toArray();0<i.length?this.each(function(){$("<img>").attr({src:this}).load(function(){var t=$(this).attr("src");i.remove(t),0===i.length&&e()})}):e()},jQuery.fn.shake=function(e,i,n){return e=e||3,i=i||15,n=n||500,this.each(function(){$(this).css({position:"relative"});for(var t=1;t<=e;t++)$(this).animate({left:-1*i},n/e/4).animate({left:i},n/e/2).animate({left:0},n/e/4)}),this},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(f){var n=/\+/g;function m(t){return g.raw?t:encodeURIComponent(t)}function v(t,e){var i=g.raw?t:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(n," ")),g.json?JSON.parse(t):t}catch(t){}}(t);return f.isFunction(e)?e(i):i}var g=f.cookie=function(t,e,i){if(void 0!==e&&!f.isFunction(e)){if("number"==typeof(i=f.extend({},g.defaults,i)).expires){var n=i.expires,o=i.expires=new Date;o.setTime(+o+6e4*n)}return document.cookie=[m(t),"=",(r=e,m(g.json?JSON.stringify(r):String(r))),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var r,s,a=t?void 0:{},h=document.cookie?document.cookie.split("; "):[],l=0,u=h.length;l<u;l++){var c=h[l].split("="),p=(s=c.shift(),g.raw?s:decodeURIComponent(s)),d=c.join("=");if(t&&t===p){a=v(d,e);break}t||void 0===(d=v(d))||(a[p]=d)}return a};g.defaults={},f.removeCookie=function(t,e){return void 0!==f.cookie(t)&&(f.cookie(t,"",f.extend({},e,{expires:-1})),!f.cookie(t))}}),function(s,t){var e,i,n,o,r,a,h,l,u,c,p=s("<body>").prependTo("html"),d=p[0].style,f=["Webkit","Moz","O"],m="palmGetResource"in window,v=window.operamini&&"[object OperaMini]"==={}.toString.call(window.operamini),g=window.blackberry&&!_("-webkit-transform");function _(t){var e,i=t.charAt(0).toUpperCase()+t.substr(1),n=(t+" "+f.join(i+" ")+i).split(" ");for(e in n)if(void 0!==d[n[e]])return!0}window.matchMedia=window.matchMedia||(e=document,n=e.documentElement,o=n.firstElementChild||n.firstChild,r=e.createElement("body"),(a=e.createElement("div")).id="mq-test-1",a.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(r,o),i=42===a.offsetWidth,n.removeChild(r),{matches:i,media:t}}),s.media=function(t){return window.matchMedia(t).matches},s.extend(s.support,{pushState:"pushState"in history&&"replaceState"in history&&!(0<=window.navigator.userAgent.indexOf("Firefox")&&window.top!==window)&&-1===window.navigator.userAgent.search(/CriOS/),mediaquery:s.media("only all"),cssPseudoElement:!!_("content"),touchOverflow:!!_("overflowScrolling"),cssTransform3d:function(){var t,e,i,n="transform-3d",o=s.media("(-"+f.join("-"+n+"),(-")+"-"+n+"),("+n+")");if(o)return!!o;for(i in t=document.createElement("div"),e={MozTransform:"-moz-transform",transform:"transform"},p.append(t),e)void 0!==t.style[i]&&(t.style[i]="translate3d(100px, 1px, 1px)",o=window.getComputedStyle(t).getPropertyValue(e[i]));return!!o&&"none"!==o}(),boxShadow:!!_("boxShadow")&&!g,fixedPosition:function(){var t=window,e=navigator.userAgent,i=navigator.platform,n=e.match(/AppleWebKit\/([0-9]+)/),o=!!n&&n[1],r=e.match(/Fennec\/([0-9]+)/),s=!!r&&r[1],a=e.match(/Opera Mobi\/([0-9]+)/),h=!!a&&a[1];if((-1<i.indexOf("iPhone")||-1<i.indexOf("iPad")||-1<i.indexOf("iPod"))&&o&&o<534||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||a&&h<7458||-1<e.indexOf("Android")&&o&&o<533||s&&s<6||"palmGetResource"in window&&o&&o<534||-1<e.indexOf("MeeGo")&&-1<e.indexOf("NokiaBrowser/8.5.0"))return!1;return!0}(),scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in p[0])&&!m&&!v,dynamicBaseTag:function(){var t,e,i=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=s("head base"),o=null,r="";n.length?r=n.attr("href"):n=o=s("<base>",{href:i}).appendTo("head");t=s("<a href='testurl' />").prependTo(p),e=t[0].href,n[0].href=r||location.pathname,o&&o.remove();return 0===e.indexOf(i)}(),cssPointerEvents:(l=document.createElement("x"),u=document.documentElement,c=window.getComputedStyle,"pointerEvents"in l.style&&(l.style.pointerEvents="auto",l.style.pointerEvents="x",u.appendChild(l),h=c&&"auto"===c(l,"").pointerEvents,u.removeChild(l),!!h)),boundingRect:void 0!==document.createElement("div").getBoundingClientRect,inlineSVG:function(){var t=window,e=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||t.opera&&-1===navigator.userAgent.indexOf("Chrome")),i=function(t){t&&e||s("html").addClass("ui-nosvg")},n=new t.Image;n.onerror=function(){i(!1)},n.onload=function(){i(1===n.width&&1===n.height)},n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}),p.remove(),s.extend(s.support,{browser:{}}),s.support.browser.oldIE=function(){for(var t=3,e=document.createElement("div"),i=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><br><![endif]--\x3e",i[0];);return 4<t?t:!t}(),s.support.gradeA=function(){return(s.support.mediaquery&&s.support.cssPseudoElement||s.support.browser.oldIE&&8<=s.support.browser.oldIE)&&(s.support.boundingRect||null!==s.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))}}(jQuery),function(t,e){var s,i,p,a,h,l,u,n,c,d,f,m,o="/img/mobi/unlucky.jpg",r="Better Luck Next Time",v=1e4,g=1500,_=$(window).height(),y=Math.round(_/2),w=!1,b=!1,T=!1,S={x:0,y:0},P=!0;function k(){$("#card").find("img.fg").addClass("shake-hard shake-constant"),i.volume(1),i.play(),setTimeout(function(){$("#card").find("img.fg").removeClass("shake-hard shake-constant"),a<4||5===a?D():L()},2500),setTimeout(function(){$("#card").addClass("reveal")},500)}t.spinr={init:function(){if($.support.gradeA()){var t=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;t&&t<7&&setTimeout(function(){window.scrollTo(0,1)},0),c=$("#congrats").find("form"),d=$("#lead").find("form"),f=$("#unlucky").find("form"),m=$("#congrats form, #unlucky form"),c.submit(N),d.submit(M),f.submit(F),$(document).on("click","#fbShare",j),"undefined"!=typeof twttr&&twttr.ready(function(t){t.events.bind("follow",function(){U("spinr.twitter.follow",contestId,5),H("Social","Follow",contestId),setTimeout(function(){window.location.href=window.location.href},2500)}),t.events.bind("tweet",function(){U("spinr.twitter.tweet",contestId,5),H("Social","Tweet",contestId),setTimeout(function(){window.location.href=window.location.href},2500)})});var e=$("#error");0<e.length&&R(e.find(".message"));var h=$("#age");0<h.length&&(R(h.find(".message")),h.find(".enter").click(function(){var t,e,i=h.find("form").attr("data-limit"),n=h.find("input[name=day]").val(),o=h.find("input[name=month]").val(),r=h.find("input[name=year]").val(),s=!1;if(n&&o&&r){var a=new Date(r,o-1,n);if(a&&a.getMonth()+1==o&&a.getDate()==Number(n))i<=(t=a,e=new Date,new Date(e.getFullYear(),t.getMonth(),t.getDate())<=e?e.getFullYear()-t.getFullYear():e.getFullYear()-t.getFullYear()-1)&&(s=!0,h.remove(),"blank"===contestType&&(O(),L()),u&&(u.addClass("animated pulse infinite"),setTimeout(function(){u.removeClass("animated pulse infinite")},v)))}s||h.find("input[type=number]").shake()}));var i=$("#code");0<i.length&&(R(i.find(".message")),i.find(".enter").click(function(){var t=i.find("input[name=code]").val();i.find(".enter").val("Checking..."),$.post("/"+contestId+"/code?_csrf="+encodeURIComponent(token),{code:t,fp:new Fingerprint({screen_resolution:!0,canvas:!0}).get()},function(t){t&&t.valid?(i.remove(),"blank"===contestType&&(O(),L())):i.find('input[name="code"]').shake()}).always(function(){i.find(".enter").val("Check")})}));var n=$("#question");if(0<n.length){R(n.find(".message"));for(var o,r=n.find("input[name=options]").val().split(","),s=0;s<r.length;s++){var a=r[s].trim();"("===a.substr(0,1)&&")"===a.substr(a.length-1,1)&&(a=a.substr(1,a.length-2),o=a);var l=new Option(a,a);n.find("select[name=question]").append(l)}n.find(".enter").click(function(){n.find("select[name=question]").val()===o?(n.remove(),"blank"===contestType&&(O(),L())):n.find("select[name=question]").shake()})}}else z("unsupported")},initLuckySpin:function(){u=$("#spin"),n=$(".option"),u.off("click"),u.bind("click",spinr.quickSpin),setTimeout(function(){u.removeClass("animated pulse infinite")},v),function(){if(playSound){s=new Howl({urls:["/audio/sound.mp3","../audio/sound.ogg"],volume:1,sprite:{silence:[0,10],loose:[4598,319],tick:[4260,150],win:[125,3959],button:[4966,1199]}});var t=new Hammer(document.body);t.on("touch",function(){s._loaded&&!b&&(s.play("silence"),b=!0)})}}()},initScratch:function(){O(function(){var t="/img/mobi/scratch.jpg";cover&&0<cover.length&&(t=cover),$("#card").wScratchPad({enabled:!0,size:25,realtime:!1,bg:o,fg:t,scratchUp:function(t,e){60<e&&(a<4||5===a?D():L())}})})},initShake:function(){O(function(){var t="/img/mobi/scratch.jpg";cover&&0<cover.length&&(t=cover),$("#card").append('<img class="bg" src="'+o+'" />'),$("#card").append('<img class="fg" src="'+t+'" />');var e=new Shake({threshold:15});e.start(),$(".card-container .btn").click(k),function(){if(playSound){i=new Howl({urls:["/audio/tictac.mp3"],volume:0});var t=new Hammer(document.body);t.on("touch",function(){i._loaded&&!T&&(i.play(),T=!0)})}}(),window.addEventListener("shake",function(){k(),e.stop()},!1)})},initPeel:function(){O(function(){var t="/img/mobi/scratch.jpg";cover&&0<cover.length&&(t=cover),$("#card").html('<div id="dragging" class="peel prizes"><div class="peel-top"><div class="cover" id="cover" style="background-image: url('+t+');"></div></div><div class="peel-back"></div><div class="peel-bottom" style="background-color: #a8958c;"><div class="prize" style="background-image: url('+o+');"></div></div></div>'),peel=new Peel("#dragging",{corner:Peel.Corners.TOP_LEFT}),peel.setPeelPosition(10,20),peel.setFadeThreshold(.9),peel.handleDrag(function(t,e,i){.65<peel.getAmountClipped()?(x(1),peel.removeEvents(),P=!1):P&&(this.setPeelPosition(e,i),S={x:e,y:i})}),$(".card-container .btn").click(A)})},initWheel:function(){$("#spin").off("click"),$("#spin").click(function(){O(E)})},hideSplash:function(){$("#splash").fadeOut("slow",function(){$(this).remove()})},quickSpin:function(){var n=1,o=175,r=1;w||(w=!0,O(),u.addClass("active").removeClass("animated pulse infinite").html("Wait"),s&&s._loaded&&s.play("button"),H("Spin","Spin",contestId),setTimeout(function(){var i=function(){var t=r-1;0==t&&(t=4);var e=$("#option"+r).parent();$("#option"+t).parent().removeClass("on").find("img").addClass("grayscale"),e.addClass("on").find("img").removeClass("grayscale"),30<n&&a===r?setTimeout(function(){4!==r?(e.addClass("win animated pulse infinite"),u.html("WIN!"),"vibrate"in navigator&&navigator.vibrate([100,200,100,200,100,200,100,200,100,200,100,1e3,100,200,100,200,100,200,100,200,100,200,100,1e3,100,200,100,200,100,200,100,200,100,200]),s&&s._loaded&&s.play("win"),setTimeout(function(){I(),D()},4e3)):(e.addClass("animated shake infinite"),u.html("").hide(),s&&s._loaded&&s.play("loose"),setTimeout(function(){I(),L()},4e3))},100):(5===++r&&(r=1),15<++n&&(o+=.05*o),s&&s._loaded&&s.play("tick"),"vibrate"in navigator&&navigator.vibrate(25),setTimeout(i,o))};setTimeout(i,o)},250))},initRedeem:function(){var e=z("ready"),t=e.find(".message"),i=$(".img"),n=t.find(".now"),o=$(".clock");n.click(function(){n.attr("disabled",!0),$.post(window.location.href+"?_csrf="+encodeURIComponent(token),function(){e.remove(),i.addClass("animated pulse infinite"),setTimeout(function(){i.removeClass("animated pulse infinite")},v);var t=parseInt(o.html(),10);h=new Date,l=6e4*t,function n(t,o){var r=60,s=t;function a(){var t=s-1;if(new Date-h>l?r=s=0:r--,o.html(t.toString()+":"+(r<10?"0":"")+String(r)),0<r)setTimeout(a,1e3);else if(1<s)setTimeout(function(){n(s-1,o)},1e3);else{var e=z("done"),i=e.find(".img");i.addClass("animated pulse infinite"),setTimeout(function(){i.removeClass("animated pulse infinite")},v),redirect&&0<redirect.length&&setTimeout(function(){window.location.href=redirect},g)}}a()}(t,o),H("Spin","Redeem",contestId)})})}};var x=function(t){t||(t=2.5),tween=new TweenLite(S,t,{x:200,y:800,ease:Power2.easeOut,onUpdate:function(){peel.setPeelPosition(this.target.x,this.target.y)}}),setTimeout(function(){a<4||5===a?D():L()},1500),peel.removeEvents(),P=!1};function A(){x(2.5)}var C=!1;function E(t){if(C)return!1;var e="spin-"+a;t&&(e+="-clockwise"),$("#prizeSpinner").addClass(e),setTimeout(function(){a<4||5===a?D():L()},1e4)}function O(t){void 0===a&&$.post("/"+contestId+"/spin?_csrf="+encodeURIComponent(token),{campaign:campaign,source:source,medium:medium,fp:new Fingerprint({screen_resolution:!0,canvas:!0}).get()},function(t){t&&(a=t.option,p=t.entryId,o=t.img,r=t.label)}).always(function(){t&&t()})}function I(){n.parent().removeClass("animated shake pulse infinite"),n.find("img").removeClass("grayscale"),u.removeClass("animated pulse infinite")}function R(t,e){e=e||t.height();var i=Math.round(y-(e/2+15));i<0&&(i=0),t.css("top",i+"px")}function D(){var t=$("#congrats"),e=t.find(".img");e.find("img").attr("src",o),r?t.find("h4").html(r):t.find(".ribbon").hide(),z("congrats"),e.addClass("animated pulse infinite"),setTimeout(function(){e.removeClass("animated pulse infinite")},v),H("Spin","Win",contestId)}function L(){var t=z("unlucky");H("Spin","Unlucky",contestId),0===t.find("form").length&&setTimeout(function(){z("share"),"none"===share&&redirect&&0<redirect.length&&setTimeout(function(){window.location.href=redirect},g)},1500)}function N(t){var e=c.find("input[type=submit]"),i=c.find("input[name=name]"),n=c.find("input[name=surname]"),o=c.find("input[name=email]"),r=c.find("input[name=cell]"),s=0<c.find("input[name=terms]:checked").length;return p?(c.find("input[name=entry]").val(p),i.val().length<2?(i.shake(),void t.preventDefault()):n.val().length<2?(n.shake(),void t.preventDefault()):o.val()&&!B(o.val())?(o.shake(),void t.preventDefault()):r.val().length<8?(r.shake(),void t.preventDefault()):s?(e.attr("disabled",!0),void H("Spin","Claim",contestId)):(c.find(".terms").shake(),void t.preventDefault())):(c.shake(),void t.preventDefault())}function M(t){var e=d.find("input[type=submit]"),i=d.find("input[name=name]"),n=d.find("input[name=surname]"),o=d.find("input[name=email]"),r=d.find("input[name=cell]"),s=d.find("input[name=other]"),a=d.find("input[name=other1]"),h=d.find("input[name=other2]"),l=0<d.find("input[name=optin]:checked").length?"on":"",u=0<d.find("input[name=terms]:checked").length;t.preventDefault(),i.val().length<2?i.shake():n.val().length<2?n.shake():!o.val()||B(o.val())?r.val().length<8?r.shake():u?(e.val("Submitting").attr("disabled",!0),m.find("input[name=name]").val(i.val()).parent().hide(),m.find("input[name=surname]").val(n.val()).parent().hide(),m.find("input[name=email]").val(o.val()).parent().hide(),m.find("input[name=cell]").val(r.val()).parent().hide(),m.find("input[name=other]").val(s.val()||"").parent().hide(),m.find("input[name=other1]").val(a.val()||"").parent().hide(),m.find("input[name=other2]").val(h.val()||"").parent().hide(),m.find("input[name=terms]").prop("checked",u).parent().hide(),m.find("input[name=optin]").prop("checked","on"===l).parent().hide(),$(".overlay").css("visibility","hidden")):d.find(".terms").shake():o.shake()}function F(t){var e=f.find("input[type=submit]"),i=f.find("input[name=name]"),n=f.find("input[name=surname]"),o=f.find("input[name=email]"),r=f.find("input[name=cell]"),s=f.find("input[name=other]"),a=f.find("input[name=other1]"),h=f.find("input[name=other2]"),l=0<f.find("input[name=optin]:checked").length?"on":"",u=0<f.find("input[name=terms]:checked").length;if(t.preventDefault(),p)if(f.find("input[name=entry]").val(p),i.val().length<2)i.shake();else if(n.val().length<2)n.shake();else if(!o.val()||B(o.val()))if(r.val().length<8)r.shake();else if(u){e.val("Submitting").attr("disabled",!0);var c={_csrf:token,entry:p,name:i.val(),surname:n.val(),email:o.val(),cell:r.val(),other:s.val()||"",other1:a.val()||"",other2:h.val()||"",optin:l};$.post(f.attr("action"),c,function(){z("share",350),H("Spin","Entry",contestId),"none"===share&&redirect&&0<redirect.length&&setTimeout(function(){window.location.href=redirect},g)})}else f.find(".terms").shake();else o.shake();else f.find("input").shake()}function z(t,e){$(".overlay").css("visibility","hidden");var i=$("#"+t);return R(i.find(".message"),e),i.css("visibility","visible"),i.height($(document).height()),i}function B(t){var e=t.lastIndexOf("@");if(e<1)return!1;if(e==t.length-1)return!1;if(64<e)return!1;if(255<t.length-e)return!1;var i=t.lastIndexOf(".");return e+1<i&&i<t.length-1||"["==t.charAt(e+1)&&"]"==t.charAt(t.length-1)}function j(){"undefined"!=typeof FB&&FB.ui({method:"share",href:$("#fbShare").attr("data-href")},function(t){t&&!t.error_code&&(U("spinr.fb.share",contestId,5),H("Social","Facebook Share",contestId),setTimeout(function(){window.location.href=window.location.href},2500))})}function H(t,e,i){"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",t,e,i])}function U(t,e,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=t+"="+e+n+"; path=/"}$(document).ready(spinr.init)}(this);
//# sourceMappingURL=mobi.min.js.map